<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B·∫£ng Gi√° T∆∞∆°ng T√°c - LUCIE STUDIO</title>
    <!-- Placeholder Comments -->
    <!-- Chosen Palette: High-Contrast Luxury (Background: White/Cream, Main Text: Black/Dark Gray, Accent: Gold/Brass #B8860B) -->
    <!-- Application Structure Plan: Major redesign! A dynamic photo slideshow is added to the Hero section for immediate visual impact. The package selector buttons are simplified to names only. The application remains a multi-view SPA, now optimized for luxury aesthetics and visual storytelling. -->
    <!-- Visualization & Content Choices: 1) Hero -> Goal: Engagement/Storytelling -> Presentation: Automated Image Slideshow (Carousel) -> Interaction: Auto-play. 2) Package Selector: Simplified buttons for cleaner UI. 3) GEMINI Integration: Added outfit consultation in Details tab and caption generation in Gallery lightbox for enhanced user interaction. -->
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
    
    <!-- T·∫£i Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- T·∫£i Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Thi·∫øt l·∫≠p font Playfair Display (Serif cho ti√™u ƒë·ªÅ) v√† Be Vietnam Pro (Sans-serif cho n·ªôi dung) -->
    <link href="https://fonts.googleapis.com/css2?family=Be+Vietnam+Pro:wght@300;400;500;600;700;800&family=Playfair+Display:wght@400;600;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Be Vietnam Pro', sans-serif;
            overflow-x: hidden;
            transition: background-color 0.5s, color 0.5s;
        }
        h1, h2, h3, h4 {
            font-family: 'Playfair Display', serif;
            transition: color 0.5s;
        }
        .text-brand-dark { transition: color 0.5s; }
        .bg-brand-dark { transition: background-color 0.5s; }
        .text-accent { transition: color 0.5s; }
        .bg-accent { transition: background-color 0.5s; }
        .border-accent { transition: border-color 0.5s; }
        .bg-card { transition: background-color 0.5s; }
        .shadow-custom { box-shadow: 0 2px 10px rgba(0, 0, 0, 0.08); } 
        .shadow-custom-hover:hover { box-shadow: 0 6px 15px rgba(0, 0, 0, 0.15); transition: box-shadow 0.3s ease-in-out; }

        /* --- THEME DEFINITIONS (M√†u ch·ªß ƒë·∫°o) --- */
        /* M·∫∑c ƒë·ªãnh: Luxury/High-Contrast */
        body.theme-default { background-color: #F8F7F4; color: #1F2937; }
        .theme-default .text-brand-dark { color: #1F2937; }
        .theme-default .bg-brand-dark { background-color: #1F2937; }
        .theme-default .text-accent { color: #B8860B; }
        .theme-default .bg-accent { background-color: #B8860B; }
        .theme-default .border-accent { border-color: #B8860B; }
        .theme-default .bg-card { background-color: #FFFFFF; }

        /* Ch·ªß ƒë·ªÅ 1: T∆∞∆°i S√°ng (Bright & Minimal - Teal Accent) */
        body.theme-bright { background-color: #FFFFFF; color: #111827; }
        .theme-bright .text-brand-dark { color: #111827; }
        .theme-bright .bg-brand-dark { background-color: #111827; }
        .theme-bright .text-accent { color: #008080; } /* Teal */
        .theme-bright .bg-accent { background-color: #008080; }
        .theme-bright .border-accent { border-color: #008080; }
        .theme-bright .bg-card { background-color: #F9FAFB; }

        /* Ch·ªß ƒë·ªÅ 2: L√£ng M·∫°n (Romantic/Warm - Burgundy Accent) */
        body.theme-romantic { background-color: #FDF5E6; color: #4B0000; } /* Cream/Beige */
        .theme-romantic .text-brand-dark { color: #4B0000; } /* Dark Red */
        .theme-romantic .bg-brand-dark { background-color: #4B0000; }
        .theme-romantic .text-accent { color: #800020; } /* Burgundy */
        .theme-romantic .bg-accent { background-color: #800020; }
        .theme-romantic .border-accent { border-color: #800020; }
        .theme-romantic .bg-card { background-color: #FFFFFF; }

        /* Ch·ªß ƒë·ªÅ 3: C·ªï ƒêi·ªÉn (Classic Blue - Navy Accent) */
        body.theme-classic { background-color: #F4F7F9; color: #111827; }
        .theme-classic .text-brand-dark { color: #1F2937; }
        .theme-classic .bg-brand-dark { background-color: #1F2937; }
        .theme-classic .text-accent { color: #003366; } /* Navy */
        .theme-classic .bg-accent { background-color: #003366; }
        .theme-classic .border-accent { border-color: #003366; }
        .theme-classic .bg-card { background-color: #FFFFFF; }
        /* --- END THEME DEFINITIONS --- */


        /* Chart container styling as per requirements */
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 1200px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 400px;
            }
        }
        .feature-item {
            list-style-type: none;
            display: flex;
            align-items: flex-start;
        }
        /* Scroll Reveal Effect Styling */
        .scroll-reveal-element {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.6s ease-out, transform 0.6s ease-out;
        }
        .scroll-reveal-element.visible {
            opacity: 1;
            transform: translateY(0);
        }
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-thumb {
            background: var(--accent-color, #B8860B);
            border-radius: 10px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        /* Tab specific styling */
        .nav-link.active {
            color: var(--brand-dark-color, #1F2937);
            border-bottom: 3px solid var(--accent-color, #B8860B); /* Accent line for active tab */
            padding-bottom: 4px;
            font-weight: 600;
        }
        .content-view {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }
        .content-view.active {
            display: block;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Responsive video container for 16:9 aspect ratio */
        .video-responsive {
            position: relative;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            height: 0;
            overflow: hidden;
            max-width: 100%;
            background: #000;
            border-radius: 12px;
        }
        .video-responsive iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border: 0;
        }
        /* Style cho n√∫t b·∫•m li√™n h·ªá n·ªïi b·∫≠t */
        .btn-accent {
            padding: 12px 32px;
            border-radius: 9999px;
            font-weight: 700;
            transition: all 0.3s;
        }
        .btn-accent:hover {
            opacity: 0.9;
        }
        /* N√∫t ch·ªçn g√≥i chuy√™n nghi·ªáp */
        .package-selector-button {
            transition: all 0.2s;
            border: 1px solid #E5E7EB;
            font-weight: 500;
            color: #4B5563;
            min-width: 100px; /* Gi·ªØ ƒë·ªô r·ªông t·ªëi thi·ªÉu */
        }
        .package-selector-button.active {
            color: white;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }
        .package-selector-button:hover:not(.active) {
            background-color: #F3F4F6;
            color: #1F2937;
        }
        
        /* Modal (Lightbox) Styling */
        #imageModal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            backdrop-filter: blur(5px);
        }
        #modalContent {
            max-width: 90%;
            max-height: 90%;
            position: relative;
            text-align: center;
        }
        #modalImage {
            display: block;
            max-width: 100%;
            max-height: 60vh; /* Gi·∫£m chi·ªÅu cao ·∫£nh ƒë·ªÉ c√≥ ch·ªó cho caption v√† button */
            object-fit: contain;
            border-radius: 8px;
        }
        #modalCaption {
            color: white;
            padding: 10px 0;
            font-size: 1.2rem;
            font-weight: 600;
            font-family: 'Playfair Display', serif;
        }
        #closeModal {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            z-index: 1001;
            transition: color 0.2s;
        }
        #closeModal:hover {
            color: var(--accent-color, #B8860B);
        }

        /* Gallery Filter Buttons */
        .gallery-filter-button {
            transition: all 0.2s;
            font-weight: 500;
            border-radius: 9999px;
            padding: 0.5rem 1rem;
            background-color: #E5E7EB;
            color: #4B5563;
            cursor: pointer;
        }
        .gallery-filter-button.active {
            color: white;
            font-weight: 600;
        }
        .gallery-filter-button:hover:not(.active) {
            background-color: #D1D5DB;
        }

        /* Slideshow Styling */
        .slideshow-container {
            position: relative;
            width: 100%;
            max-width: 1200px;
            height: 400px; /* Chi·ªÅu cao c·ªë ƒë·ªãnh cho Slideshow */
            overflow: hidden;
            border-radius: 12px;
            margin: 0 auto 3rem;
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        }
        .slideshow-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            position: absolute;
            top: 0;
            left: 0;
            opacity: 0;
            transition: opacity 1.5s ease-in-out;
        }
        .slideshow-image.active {
            opacity: 1;
        }
        /* Loader Style */
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid var(--accent-color, #B8860B);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 2s linear infinite;
            margin: 20px auto;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="antialiased theme-default">

    <!-- Modal (Lightbox) Structure -->
    <div id="imageModal" onclick="closeModal()">
        <span id="closeModal" title="ƒê√≥ng">&times;</span>
        <div id="modalContent" onclick="event.stopPropagation()">
            <img id="modalImage" src="" alt="·∫¢nh C∆∞·ªõi Chi Ti·∫øt">
            
            <!-- GEMINI FEATURE 2: Caption Generator -->
            <div class="mt-4 p-4 bg-gray-900 rounded-lg shadow-xl text-center">
                <button class="btn-accent text-sm py-2 px-4 mb-3 shadow-none" onclick="generateCaption()">
                    ‚ú® G·ª£i √Ω Ch√∫ th√≠ch ·∫¢nh
                </button>
                <div id="modalCaption"></div>
                <div id="captionLoader" class="hidden">
                    <div class="loader w-6 h-6 border-2 border-t-2"></div>
                </div>
            </div>
            <!-- END GEMINI FEATURE 2 -->
        </div>
    </div>
    <!-- End Modal -->

    <!-- Header & Tab Controller -->
    <header class="bg-card shadow-custom sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 flex justify-between items-center">
            <h1 class="text-4xl font-extrabold text-brand-dark tracking-wide transition duration-300 hover:text-accent" style="font-family: 'Playfair Display', serif;">LUCIE STUDIO</h1>
            <nav id="mainNav" class="hidden md:flex space-x-8 text-gray-700 font-medium">
                <a href="#" data-view="view-details" class="nav-link transition duration-150 active" onclick="switchView('view-details')">Chi Ti·∫øt G√≥i</a>
                <a href="#" data-view="view-comparison" class="nav-link transition duration-150" onclick="switchView('view-comparison')">B·∫£ng So S√°nh</a>
                <a href="#" data-view="view-gallery" class="nav-link transition duration-150" onclick="switchView('view-gallery')">Album & Video</a>
                <a href="#" data-view="view-event-film" class="nav-link transition duration-150" onclick="switchView('view-event-film')">Ph√≥ng S·ª± & Film</a>
                <a href="#" data-view="view-printing" class="nav-link transition duration-150" onclick="switchView('view-printing')">B√°o Gi√° In ·∫¢nh</a>
                <a href="#contact" data-view="view-contact" class="nav-link transition duration-150">Li√™n H·ªá</a>
            </nav>
            <!-- Mobile Menu Placeholder -->
        </div>
    </header>

    <!-- Main Application Body -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        
        <!-- NEW: Theme Selector -->
        <div class="mb-8 p-3 bg-card rounded-xl shadow-custom flex flex-wrap items-center justify-center gap-3">
            <span class="text-sm font-medium text-gray-700">Ch·ªçn Ch·ªß ƒê·ªÅ:</span>
            <button class="text-xs py-1 px-3 rounded-full border border-gray-300 transition duration-150 hover:shadow-md" onclick="setTheme('theme-default')" data-theme-name="default">üëë Sang Tr·ªçng</button>
            <button class="text-xs py-1 px-3 rounded-full border border-gray-300 transition duration-150 hover:shadow-md" onclick="setTheme('theme-bright')" data-theme-name="bright">‚òÄÔ∏è T∆∞∆°i S√°ng</button>
            <button class="text-xs py-1 px-3 rounded-full border border-gray-300 transition duration-150 hover:shadow-md" onclick="setTheme('theme-romantic')" data-theme-name="romantic">üíñ L√£ng M·∫°n</button>
            <button class="text-xs py-1 px-3 rounded-full border border-gray-300 transition duration-150 hover:shadow-md" onclick="setTheme('theme-classic')" data-theme-name="classic">üìò C·ªï ƒêi·ªÉn</button>
        </div>

        <!-- Introduction Section (Hero) -->
        <section class="text-center mb-16 scroll-reveal-element">
            <h2 class="text-5xl md:text-6xl font-extrabold text-brand-dark mb-4">L·ª±a Ch·ªçn S·ª± Sang Tr·ªçng & Ho√†n H·∫£o</h2>
            <p class="text-xl text-gray-600 max-w-4xl mx-auto">T·∫≠n h∆∞·ªüng d·ªãch v·ª• c∆∞·ªõi ƒë·∫≥ng c·∫•p, n∆°i m·ªói kho·∫£nh kh·∫Øc ƒë∆∞·ª£c ghi l·∫°i v·ªõi s·ª± tinh t·∫ø tuy·ªát ƒë·ªëi. Kh√°m ph√° c√°c g√≥i d·ªãch v·ª• ƒë·ªôc quy·ªÅn c·ªßa ch√∫ng t√¥i.</p>
             <div class="mt-8 mx-auto w-20 h-0.5 bg-accent"></div> <!-- D·∫£i ph√¢n c√°ch tinh t·∫ø -->
        </section>

        <!-- NEW: Slideshow Section (ch·∫°y ·∫£nh ph√≥ng s·ª± c∆∞·ªõi) -->
        <section class="slideshow-container scroll-reveal-element">
            <div id="heroSlideshow">
                <!-- Slideshow images will be generated here by JS -->
            </div>
        </section>


        <!-- Dynamic Content Wrapper -->
        <div id="contentWrapper" class="space-y-12">

            <!-- 1. VIEW: CHI TI·∫æT G√ìI (Default/Focus) -->
            <section id="view-details" class="content-view active scroll-reveal-element">
                <h3 class="text-3xl font-bold text-brand-dark mb-8 text-center">CHI TI·∫æT TR·ªåN G√ìI D·ªäCH V·ª§ ƒê∆Ø·ª¢C L·ª∞A CH·ªåN</h3>
                
                <!-- NEW: Professional Package Selector (CH·ªà C√ì T√äN G√ìI) -->
                <div class="bg-card p-6 rounded-2xl shadow-custom mb-8 border-t-4 border-accent">
                    <h4 class="text-xl font-semibold text-brand-dark mb-4 border-b pb-2">Ch·ªçn Nhanh G√≥i D·ªãch V·ª•</h4>
                    
                    <p class="text-sm font-medium text-gray-700 mb-2">G√≥i Ch·ª•p ·∫¢nh C∆∞·ªõi (Pre-Wedding - LUCIE)</p>
                    <div id="packageButtonsLucie" class="flex flex-wrap gap-3 mb-4">
                        <!-- Buttons generated by JS -->
                    </div>

                    <p class="text-sm font-medium text-gray-700 mt-4 mb-2">G√≥i Combo Tr·ªçn G√≥i (Pre-Wedding + Ng√†y C∆∞·ªõi - PACKCOMBO)</p>
                    <div id="packageButtonsCombo" class="flex flex-wrap gap-3">
                        <!-- Buttons generated by JS -->
                    </div>
                </div>
                <!-- END NEW: Professional Package Selector -->

                <div id="packageDetailPanel" class="bg-card p-6 sm:p-8 rounded-2xl shadow-custom min-h-[200px] transition-all duration-500 shadow-custom-hover border-t-4 border-accent">
                    <!-- Content generated by JS -->
                    <p class="text-center text-gray-500 py-10">Vui l√≤ng ch·ªçn m·ªôt g√≥i t·ª´ d·∫£i n√∫t ph√≠a tr√™n ƒë·ªÉ xem chi ti·∫øt ƒë·∫ßy ƒë·ªß.</p>
                </div>
                
                <!-- GEMINI FEATURE 1: Outfit Consultation -->
                <div class="mt-8 bg-gray-100 p-6 rounded-xl shadow-inner border border-gray-200">
                    <h4 class="text-xl font-semibold text-brand-dark mb-3">‚ú® T∆∞ V·∫•n Trang Ph·ª•c C√° Nh√¢n H√≥a (Gemini AI)</h4>
                    <p class="text-sm text-gray-600 mb-4">Nh·∫≠n g·ª£i √Ω chuy√™n s√¢u t·ª´ AI v·ªÅ c√°ch ph·ªëi ƒë·ªì, m√†u s·∫Øc v√† phong c√°ch trang ph·ª•c ph√π h·ª£p nh·∫•t v·ªõi ƒë·ªãa ƒëi·ªÉm v√† d·ªãch v·ª• c·ªßa g√≥i b·∫°n ƒëang ch·ªçn.</p>
                    <button id="outfitConsultBtn" class="btn-accent text-sm py-2 px-4 shadow-none" onclick="startOutfitConsult()">
                        Nh·∫≠n T∆∞ V·∫•n Trang Ph·ª•c
                    </button>
                    <div id="consultationOutput" class="mt-4 p-4 bg-white rounded-lg shadow-md text-sm text-gray-700 hidden">
                        <div id="consultationLoader" class="loader hidden"></div>
                        <p id="consultationText"></p>
                    </div>
                </div>
                <!-- END GEMINI FEATURE 1 -->

            </section>
            
            <!-- 2. VIEW: B·∫¢NG SO S√ÅNH (Price Chart & Comparison Tool) -->
            <section id="view-comparison" class="content-view scroll-reveal-element">
                <h3 class="text-3xl font-bold text-brand-dark mb-8 text-center">PH√ÇN T√çCH V√Ä SO S√ÅNH TR·ª∞C QUAN C√ÅC G√ìI LUCIE</h3>
                
                <!-- Price Overview Chart -->
                <div>
                    <h4 class="text-xl font-semibold text-brand-dark mb-2 border-b pb-2 border-accent">Bi·ªÉu ƒê·ªì So S√°nh Gi√° C√°c G√≥i Pre-Wedding (LUCIE)</h4>
                    <p class="text-gray-600 mb-4">Nh·∫•p v√†o m·ªôt c·ªôt ƒë·ªÉ xem chi ti·∫øt ƒë·∫ßy ƒë·ªß c·ªßa g√≥i ƒë√≥ trong Tab "Chi Ti·∫øt G√≥i".</p>
                    <div class="bg-card p-4 sm:p-6 rounded-2xl shadow-custom transition duration-300 shadow-custom-hover border-t-4 border-accent">
                        <div class="chart-container">
                            <canvas id="priceChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Feature Comparison Tool -->
                <div class="mt-12">
                    <h4 class="text-xl font-semibold text-brand-dark mb-2 border-b pb-2 border-accent">C√¥ng C·ª• So S√°nh Tr·ª±c Ti·∫øp (LUCIE & COMBO)</h4>
                    <p class="text-gray-600 mb-6">Ch·ªçn t·ªëi ƒëa 3 g√≥i ƒë·ªÉ xem x√©t c√°c quy·ªÅn l·ª£i c·∫°nh nhau.</p>
                    <div class="bg-card p-4 sm:p-6 rounded-2xl shadow-custom transition duration-300 shadow-custom-hover border-t-4 border-accent">
                        <!-- Selectors -->
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8">
                            <div>
                                <label for="packageSelect1" class="block text-sm font-medium text-gray-700 mb-1">G√≥i So S√°nh 1</label>
                                <select id="packageSelect1" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-accent focus:ring-accent p-2 transition duration-150"></select>
                            </div>
                            <div>
                                <label for="packageSelect2" class="block text-sm font-medium text-gray-700 mb-1">G√≥i So S√°nh 2</label>
                                <select id="packageSelect2" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-accent focus:ring-accent p-2 transition duration-150"></select>
                            </div>
                            <div>
                                <label for="packageSelect3" class="block text-sm font-medium text-gray-700 mb-1">G√≥i So S√°nh 3</label>
                                <select id="packageSelect3" class="w-full rounded-lg border-gray-300 shadow-sm focus:border-accent focus:ring-accent p-2 transition duration-150"></select>
                            </div>
                        </div>
                        <!-- Comparison Table -->
                        <div id="comparisonTable" class="overflow-x-auto border border-gray-200 rounded-lg">
                            <!-- Content generated by JS -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- 3. VIEW: ALBUM & VIDEO GALLERY -->
            <section id="view-gallery" class="content-view scroll-reveal-element">
                <h3 class="text-3xl font-bold text-brand-dark mb-8 text-center">ALBUM ·∫¢NH & VIDEO C∆Ø·ªöI</h3>
                
                <!-- Video C∆∞·ªõi (YouTube Embed) -->
                <div class="mb-12">
                    <h4 class="text-2xl font-semibold text-brand-dark mb-4 border-b pb-2 border-accent">VIDEO C∆Ø·ªöI (PH√ìNG S·ª∞ & PRE-WEDDING)</h4>
                    <p class="text-gray-600 mb-4">C√°c video ·∫•n t∆∞·ª£ng ƒë∆∞·ª£c th·ª±c hi·ªán b·ªüi ƒë·ªôi ng≈© Lucie Studio.</p>
                    <div class="bg-card p-4 rounded-xl shadow-custom">
                        <!-- S·ª¨A L·ªñI VIDEO: M√£ nh√∫ng c∆° b·∫£n nh·∫•t ƒë·ªÉ tr√°nh xung ƒë·ªôt m√¥i tr∆∞·ªùng -->
                        <div class="video-responsive">
                            <iframe width="560" height="315" src="https://www.youtube.com/embed/6zdlWn9lGVE" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
                        </div>
                    </div>
                </div>

                <!-- ·∫¢nh C∆∞·ªõi Pre-Wedding -->
                <div class="mb-12">
                    <h4 class="text-2xl font-semibold text-brand-dark mb-4 border-b pb-2 border-accent">ALBUM ·∫¢NH C∆Ø·ªöI (PRE-WEDDING)</h4>
                    
                    <!-- NEW: Gallery Filters -->
                    <div id="galleryFilters" class="flex flex-wrap gap-3 mb-6 justify-center">
                        <!-- Filter buttons generated by JS -->
                    </div>
                    
                    <div id="prewedding-gallery" class="image-grid-prewedding grid grid-cols-2 md:grid-cols-3 gap-4">
                        <!-- Images generated by JS -->
                    </div>
                </div>

                <!-- ·∫¢nh Ph√≥ng S·ª± C∆∞·ªõi -->
                <div class="mb-12">
                    <h4 class="text-2xl font-semibold text-brand-dark mb-4 border-b pb-2 border-accent">ALBUM ·∫¢NH PH√ìNG S·ª∞ C∆Ø·ªöI</h4>
                    <p class="text-gray-600 italic mb-4 p-3 bg-gray-100 rounded-lg font-medium border border-gray-200">
                        **Th√¥ng b√°o:** ƒê√£ c·∫≠p nh·∫≠t Album Ph√≥ng S·ª± C∆∞·ªõi m·ªõi nh·∫•t.
                    </p>
                    <div id="event-gallery" class="image-grid-event grid grid-cols-2 md:grid-cols-4 gap-4">
                        <!-- Images generated by JS -->
                    </div>
                </div>

            </section>


            <!-- 4. VIEW: D·ªäCH V·ª§ NG√ÄY C∆Ø·ªöI RI√äNG L·∫∫ & FILM (Static but Styled) -->
            <section id="view-event-film" class="content-view scroll-reveal-element">
                <h3 class="text-3xl font-bold text-brand-dark mb-8 text-center">D·ªäCH V·ª§ NG√ÄY C∆Ø·ªöI RI√äNG L·∫∫ & FILM (PH√ìNG S·ª∞)</h3>

                <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                    <!-- Ch·ª•p Ph√≥ng S·ª± (Staff) -->
                    <div class="bg-card p-6 rounded-2xl shadow-custom scroll-reveal-element shadow-custom-hover border-t-4 border-accent">
                        <h4 class="text-xl font-semibold text-brand-dark mb-3">CH·ª§P PH√ìNG S·ª∞ (STAFF)</h4>
                        <ul class="space-y-3 text-gray-700 text-sm">
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 1:</span> 3.500.000‚Ç´ (1 M√°y ƒÇn H·ªèi + 1 M√°y Ng√†y C∆∞·ªõi)</li>
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 2:</span> 4.500.000‚Ç´ (2 M√°y ƒÇn H·ªèi + 1 M√°y Ng√†y C∆∞·ªõi)</li>
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 3:</span> 5.500.000‚Ç´ (2 M√°y ƒÇn H·ªèi + 2 M√°y Ng√†y C∆∞·ªõi)</li>
                            <li class="text-xs mt-4 p-2 bg-gray-50 rounded-md text-red-500">L∆∞u √Ω: √Åp d·ª•ng trong n·ªôi th√†nh T√¢y TP H·∫£i Ph√≤ng.</li>
                        </ul>
                    </div>

                    <!-- Ch·ª•p Ph√≥ng S·ª± (Leader) -->
                    <div class="bg-card p-6 rounded-2xl shadow-custom scroll-reveal-element shadow-custom-hover border-t-4 border-accent">
                        <h4 class="text-xl font-semibold text-brand-dark mb-3">CH·ª§P PH√ìNG S·ª∞ (LEADER LUCIE STUDIO)</h4>
                        <ul class="space-y-3 text-gray-700 text-sm">
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 1:</span> 4.500.000‚Ç´ (1 M√°y ƒÇn H·ªèi + 1 M√°y Ng√†y C∆∞·ªõi)</li>
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 2:</span> 5.500.000‚Ç´ (2 M√°y ƒÇn H·ªèi + 1 M√°y Ng√†y C∆∞·ªõi)</li>
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 3:</span> 6.500.000‚Ç´ (2 M√°y ƒÇn H·ªèi + 2 M√°y Ng√†y C∆∞·ªõi)</li>
                            <li class="text-xs mt-4 p-2 bg-gray-50 rounded-md text-gray-600">S·∫£n ph·∫©m: Ch·ª•p kh√¥ng gi·ªõi h·∫°n file, Tr·∫£ to√†n b·ªô file ƒë√£ blend m√†u.</li>
                        </ul>
                    </div>

                    <!-- Quay Ph√≥ng S·ª± -->
                    <div class="bg-card p-6 rounded-2xl shadow-custom scroll-reveal-element shadow-custom-hover border-t-4 border-accent">
                        <h4 class="text-xl font-semibold text-brand-dark mb-3">QUAY PH√ìNG S·ª∞ (FILM)</h4>
                        <ul class="space-y-3 text-gray-700 text-sm">
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 1:</span> 6.500.000‚Ç´ (1 M√°y Quay ƒÇn H·ªèi + 1 M√°y Quay C∆∞·ªõi)</li>
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 2:</span> 9.500.000‚Ç´ (2 M√°y Quay ƒÇn H·ªèi + 1 M√°y Quay C∆∞·ªõi)</li>
                            <li class="feature-item"><span class="font-bold mr-2 text-brand-dark">G√ìI 3:</span> 12.500.000‚Ç´ (2 M√°y Quay ƒÇn H·ªèi + 2 M√°y Quay C∆∞·ªõi)</li>
                            <li class="text-xs mt-4 p-2 bg-gray-50 rounded-md text-gray-600">∆Øu ƒë√£i: T·∫∑ng 50 ·∫£nh r·ª≠a 13x18 √©p Plastic, T·∫∑ng Album ƒë·ª±ng ·∫£nh.</li>
                        </ul>
                    </div>
                </div>
            </section>


            <!-- 5. VIEW: B·∫¢NG GI√Å IN PH√ìNG ·∫¢NH (Responsive Tables) -->
            <section id="view-printing" class="content-view scroll-reveal-element">
                <h3 class="text-3xl font-bold text-brand-dark mb-8 text-center">B·∫¢NG GI√Å IN PH√ìNG ·∫¢NH</h3>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Table 1: ·∫¢nh In Th∆∞·ªùng -->
                    <div class="bg-card p-6 rounded-2xl shadow-custom overflow-x-auto shadow-custom-hover">
                        <h4 class="text-xl font-semibold text-brand-dark mb-4 border-b pb-2 border-accent">·∫¢NH IN TH∆Ø·ªúNG (Gi√° t√≠nh b·∫±ng VND)</h4>
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 text-brand-dark">
                                <tr>
                                    <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider">Size ·∫£nh</th>
                                    <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider">·∫¢nh in</th>
                                    <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider">UV</th>
                                    <th class="px-6 py-3 text-left text-xs font-semibold uppercase tracking-wider">L·ª•a</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-100 text-sm text-gray-700">
                                <tr><td class="px-6 py-3 whitespace-nowrap">9x12</td><td>2.000</td><td>2.500</td><td>3.000</td></tr>
                                <tr><td class="px-6 py-3 whitespace-nowrap">10x15</td><td>2.500</td><td>3.000</td><td>3.500</td></tr>
                                <tr><td class="px-6 py-3 whitespace-nowrap">13x18</td><td>5.000</td><td>5.500</td><td>6.000</td></tr>
                                <tr><td class="px-6 py-3 whitespace-nowrap">15x21</td><td>7.000</td><td>8.000</td><td>9.000</td></tr>
                                <tr><td class="px-6 py-3 whitespace-nowrap">20x25</td><td>15.000</td><td>18.000</td><td>20.000</td></tr>
                                <tr><td class="px-6 py-3 whitespace-nowrap">20x30</td><td>20.000</td><td>28.000</td><td>35.000</td></tr>
                            </tbody>
                        </table>
                    </div>

                    <!-- Table 2: ·∫¢nh √âp G·ªó -->
                    <div class="bg-card p-6 rounded-2xl shadow-custom overflow-x-auto shadow-custom-hover">
                        <h4 class="text-xl font-semibold text-brand-dark mb-4 border-b pb-2 border-accent">·∫¢NH √âP G·ªñ (Gi√° t√≠nh b·∫±ng VND)</h4>
                        <table class="min-w-full divide-y divide-gray-200">
                            <thead class="bg-gray-50 text-brand-dark">
                                <tr>
                                    <th class="px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider">SIZE</th>
                                    <th class="px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider">C√ÅN B√ìNG</th>
                                    <th class="px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider">TR√ÅNG G∆Ø∆†NG</th>
                                    <th class="px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider">MECA HD</th>
                                    <th class="px-3 py-3 text-left text-xs font-semibold uppercase tracking-wider">LED ƒêI·ªÜN</th>
                                </tr>
                            </thead>
                            <tbody class="bg-white divide-y divide-gray-100 text-sm text-gray-700">
                                <tr><td class="px-3 py-2 whitespace-nowrap">15x21</td><td>120K</td><td>-</td><td>-</td><td>-</td></tr>
                                <tr><td class="px-3 py-2 whitespace-nowrap">20x30</td><td>200K</td><td>300K</td><td>400K</td><td>-</td></tr>
                                <tr><td class="px-3 py-2 whitespace-nowrap">30x45</td><td>400K</td><td>600K</td><td>900K</td><td>-</td></tr>
                                <tr><td class="px-3 py-2 whitespace-nowrap">40x60</td><td>600K</td><td>850K</td><td>1.5M</td><td>3.0M</td></tr>
                                <tr><td class="px-3 py-2 whitespace-nowrap">60x90</td><td>1.0M</td><td>1.5M</td><td>2.5M</td><td>7.0M</td></tr>
                                <tr><td class="px-3 py-2 whitespace-nowrap">80x120</td><td>3.0M</td><td>3.5M</td><td>6.0M</td><td>14.0M</td></tr>
                                <tr><td class="px-3 py-2 whitespace-nowrap">120x180</td><td>6.0M</td><td>9.0M</td><td>10.0M</td><td>24.0M</td></tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </section>
        </div>


        <!-- Contact Section (Static at bottom) -->
        <section id="contact" class="mt-16 bg-brand-dark rounded-3xl p-10 sm:p-16 text-center scroll-reveal-element">
            <h2 class="text-3xl sm:text-4xl font-extrabold text-white mb-4">S·∫µn S√†ng Ghi L·∫°i Kho·∫£nh Kh·∫Øc C·ªßa B·∫°n?</h2>
            <p class="text-lg text-gray-300 mb-8">Ch√∫ng t√¥i lu√¥n s·∫µn l√≤ng t∆∞ v·∫•n ƒë·ªÉ gi√∫p b·∫°n ch·ªçn ƒë∆∞·ª£c g√≥i d·ªãch v·ª• ∆∞ng √Ω nh·∫•t.</p>
            <div class="flex flex-col sm:flex-row justify-center items-center space-y-4 sm:space-y-0 sm:space-x-6">
                <a href="tel:0826226888" class="btn-accent transition duration-300">
                    G·ªåI NGAY: 0826226888
                </a>
                <a href="https://m.me/luciestudio.vn" target="_blank" class="w-full sm:w-auto bg-white text-brand-dark font-bold py-3 px-8 rounded-full shadow-md hover:bg-gray-100 transition duration-150">
                    NH·∫ÆN TIN T∆Ø V·∫§N
                </a>
            </div>
        </section>
        
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white py-6 mt-12">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center text-sm">
            <p>&copy; 2025 LUCIE STUDIO. All Rights Reserved.</p>
            <p class="mt-1 text-gray-400">ƒê·ªãa ch·ªâ: 174 B√† Tri·ªáu, TP H·∫£i D∆∞∆°ng | Hotline: 0826.226.888</p>
        </div>
    </footer>

    <script>
        // --- DATA ·∫¢NH (PHOTOS DATA) ---
        // H∆Ø·ªöNG D·∫™N: D√°n URL ·∫£nh c√¥ng khai v√†o c√°c m·∫£ng d∆∞·ªõi ƒë√¢y.
        
        const rawImageUrls = [
            "https://i.ibb.co/67KPvBw9/AODAI9.jpg", "https://i.ibb.co/20vfccd7/AODAI10.jpg", "https://i.ibb.co/hTfhc5B/CHILINH1.jpg", 
            "https://i.ibb.co/qMymn3ZN/CHILINH2.jpg", "https://i.ibb.co/yBd3t1pV/CHILINH3.jpg", "https://i.ibb.co/v4bQ1Q3s/CHILINH4.jpg", 
            "https://i.ibb.co/gZBNQQQG/CHILINH5.jpg", "https://i.ibb.co/yBVYmMmH/CHILINH6.jpg", "https://i.ibb.co/rfsLHXSd/CHILINH7.jpg", 
            "https://i.ibb.co/1JG4W97x/CHILINH8.jpg", "https://i.ibb.co/KcxpBJ6V/CHILINH9.jpg", "https://i.ibb.co/jvd0wbFb/CHILINH10.jpg", 
            "https://i.ibb.co/yFVTnqqf/CONCEPT1.jpg", "https://i.ibb.co/4gnJtJ2y/CONCEPT2.jpg", "https://i.ibb.co/57pYLLb/CONCEPT3.jpg", 
            "https://i.ibb.co/BH8Nkgfq/CONCEPT4.jpg", "https://i.ibb.co/HfSjnqq9/CONCEPT5.jpg", "https://i.ibb.co/mCX64BdN/CONCEPT6.jpg", 
            "https://i.ibb.co/KzzVH8kD/CONCEPT7.jpg", "https://i.ibb.co/NgZXNp9x/CONCEPT8.jpg", "https://i.ibb.co/Gv8xbWDs/CONCEPT9.jpg", 
            "https://i.ibb.co/99Gzh3Kc/CONCEPT10.jpg", "https://i.ibb.co/2Y53TMp3/CONCEPT11.jpg", "https://i.ibb.co/mm4H51W/CONCEPT12.jpg", 
            "https://i.ibb.co/84bLDy5d/DANGOAI1.jpg", "https://i.ibb.co/GfF6CwWJ/DANGOAI2.jpg", "https://i.ibb.co/mCvxBzZz/DANGOAI4.jpg", 
            "https://i.ibb.co/7J5Sz0t5/DANGOAI5.jpg", "https://i.ibb.co/CKR1dbtn/DANGOAI6.jpg", "https://i.ibb.co/v6MgzNFJ/DANGOAI9.jpg", 
            "https://i.ibb.co/nNSRcBPn/DANGOAI10.jpg", "https://i.ibb.co/CszWMTmW/HDCAFE1.jpg", "https://i.ibb.co/Dfg5B891/HDCAFE2.jpg", 
            "https://i.ibb.co/FkJfgrdm/HDCAFE3.jpg", "https://i.ibb.co/fzNMRZ6H/HDCAFE4.jpg", "https://i.ibb.co/LD2qn6xD/HDCAFE5.jpg", 
            "https://i.ibb.co/C3JhqK7X/HDCAFE6.jpg", "https://i.ibb.co/yF9WrYgk/HDCAFE7.jpg", "https://i.ibb.co/j98nbSY9/HDCAFE8.jpg", 
            "https://i.ibb.co/SwSVD5V8/HDCAFE9.jpg", "https://i.ibb.co/0yvBrCbL/HDNGOAITROI1.jpg", "https://i.ibb.co/3m8nFxGD/HDNGOAITROI2.jpg", 
            "https://i.ibb.co/WvGp8dmY/HDNGOAITROI3.jpg", "https://i.ibb.co/zWWzs6VM/HDNGOAITROI4.jpg", "https://i.ibb.co/7J0f3W4H/HDNGOAITROI5.jpg", 
            "https://i.ibb.co/gZ3yTS79/HDNGOAITROI6.jpg", "https://i.ibb.co/QFTZD87W/HDNGOAITROI7.jpg", "https://i.ibb.co/nq8sJ4CY/HDNGOAITROI8.jpg", 
            "https://i.ibb.co/8n7G63P2/HDNGOAITROI9.jpg", "https://i.ibb.co/pvMnnv8F/HDNGOAITROI10.jpg", "https://i.ibb.co/rqwCHS3/HDNGOAITROI11.jpg", 
            "https://i.ibb.co/RpG1hqJf/HDNGOAITROI12.jpg", "https://i.ibb.co/M5kXLb77/HDNGOAITROI13.jpg", "https://i.ibb.co/qK2GJfz/LUX1.jpg", 
            "https://i.ibb.co/x8qLZbRt/LUX2.jpg", "https://i.ibb.co/mVBQN8T3/LUX3.jpg", "https://i.ibb.co/9kRkF9f5/LUX4.jpg", 
            "https://i.ibb.co/wFsYKd6d/LUX5.jpg", "https://i.ibb.co/67Z8q37N/LUX6.jpg", "https://i.ibb.co/VcxHgRj5/PHIMTRUONGHD1.jpg", 
            "https://i.ibb.co/jk9JVvw8/PHIMTRUONGHD2.jpg", "https://i.ibb.co/7DXVzR4/PHIMTRUONGHD3.jpg", "https://i.ibb.co/KC3MJg5/PHIMTRUONGHD4.jpg", 
            "https://i.ibb.co/6JGFhCrS/PHIMTRUONGHD5.jpg", "https://i.ibb.co/TBGk6Q8p/PHIMTRUONGHD6.jpg", "https://i.ibb.co/20wnphtf/PHIMTRUONGHD7.jpg", 
            "https://i.ibb.co/YT3d6N1D/PHIMTRUONGHD8.jpg", "https://i.ibb.co/7thc8n00/PHIMTRUONGHD9.jpg", "https://i.ibb.co/XnY9S2R/PHIMTRUONGHD10.jpg", 
            "https://i.ibb.co/RTJVWWP5/PHIMTRUONGHD11.jpg", "https://i.ibb.co/bg4dH4qp/STUDIOS1.jpg", "https://i.ibb.co/rRnQRy8g/STUDIOS2.jpg", 
            "https://i.ibb.co/pBfRvWvQ/STUDIOS3.jpg", "https://i.ibb.co/NnVk3Y03/STUDIOS4.jpg", "https://i.ibb.co/bjp9zW2y/STUDIOS5.jpg", 
            "https://i.ibb.co/3Yycsmbc/STUDIOS6.jpg", "https://i.ibb.co/p6txHKFc/STUDIOS7.jpg", "https://i.ibb.co/VWjLtR8k/STUDIOS8.jpg", 
            "https://i.ibb.co/TGPBX57/STUDIOS9.jpg", "https://i.ibb.co/b5FzV9Lv/STUDIOS10.jpg", "https://i.ibb.co/6cZwTkqj/STUDIOS11.jpg", 
            "https://i.ibb.co/WNVxMfYL/STUDIOS12.jpg", "https://i.ibb.co/cS3N6FND/STUDIOS13.jpg", "https://i.ibb.co/f38q7LC/STUDIOS14.jpg", 
            "https://i.ibb.co/21WH8vmW/STUDIOS15.jpg", "https://i.ibb.co/JRY31VBF/STUDIOS16.jpg", "https://i.ibb.co/HTjwX2SX/STUDIOS17.jpg", 
            "https://i.ibb.co/GQ1Y6qrT/STUDIOS18.jpg", "https://i.ibb.co/fGYPZtRk/STUDIOS19.jpg", "https://i.ibb.co/RGPqkvtm/STUDIOS20.jpg", 
            "https://i.ibb.co/HfSyL8LP/STUDIOS21.jpg"
        ];
        
        // C·∫¨P NH·∫¨T: T·∫•t c·∫£ 90 URL ƒë·ªÅu l√† ·∫£nh Pre-Wedding, m·∫£ng Event l√† tr·ªëng.
        const preweddingImageUrls = rawImageUrls;
        
        // C·∫¨P NH·∫¨T M·ªöI: Th√™m 99 URL Ph√≥ng s·ª± C∆∞·ªõi v√†o m·∫£ng eventImageUrls, x√≥a data c≈©.
        const eventImageUrls = [
            "https://i.ibb.co/k2TmB7cs/LUCIEPSC2.jpg", "https://i.ibb.co/ymvVwksK/LUCIEPSC1.jpg", "https://i.ibb.co/1GjqzbCF/LUCIEPSC3.jpg", 
            "https://i.ibb.co/wZw7SJpb/LUCIEPSC4.jpg", "https://i.ibb.co/pBsNmj1V/LUCIEPSC5.jpg", "https://i.ibb.co/yBQk75k9/LUCIEPSC6.jpg", 
            "https://i.ibb.co/QFW5ThFx/LUCIEPSC7.jpg", "https://i.ibb.co/YFh6PSRV/LUCIEPSC8.jpg", "https://i.ibb.co/hJgCcX2q/LUCIEPSC9.jpg", 
            "https://i.ibb.co/YFQGQ3jd/LUCIEPSC10.jpg", "https://i.ibb.co/rfHxjkLS/LUCIEPSC11.jpg", "https://i.ibb.co/3YktDPdR/LUCIEPSC12.jpg", 
            "https://i.ibb.co/1Dk8L2L/LUCIEPSC13.jpg", "https://i.ibb.co/s9TCsVFk/LUCIEPSC14.jpg", "https://i.ibb.co/MkKD8ZWZ/LUCIEPSC15.jpg", 
            "https://i.ibb.co/Y4xyPDzG/LUCIEPSC16.jpg", "https://i.ibb.co/M5275vSd/LUCIEPSC17.jpg", "https://i.ibb.co/6cLJk3Bw/LUCIEPSC18.jpg", 
            "https://i.ibb.co/Y4zrRtgC/LUCIEPSC19.jpg", "https://i.ibb.co/8L6yYMB5/LUCIEPSC20.jpg", "https://i.ibb.co/93ybG3rQ/LUCIEPSC21.jpg", 
            "https://i.ibb.co/chxzbMk5/LUCIEPSC22.jpg", "https://i.ibb.co/JR58tBRt/LUCIEPSC23.jpg", "https://i.ibb.co/rGsZpPt0/LUCIEPSC24.jpg", 
            "https://i.ibb.co/XkCkjxWf/LUCIEPSC25.jpg", "https://i.ibb.co/Kd8pjy0/LUCIEPSC26.jpg", "https://i.ibb.co/dwQf3zmw/LUCIEPSC27.jpg", 
            "https://i.ibb.co/DfV6QqDD/LUCIEPSC28.jpg", "https://i.ibb.co/fYkvZSjP/LUCIEPSC29.jpg", "https://i.ibb.co/Xr0F8dTY/LUCIEPSC30.jpg", 
            "https://i.ibb.co/pvDBj8Rp/LUCIEPSC31.jpg", "https://i.ibb.co/rfHNTJCK/LUCIEPSC32.jpg", "https://i.ibb.co/6JnRd440/LUCIEPSC33.jpg", 
            "https://i.ibb.co/mCCjfHpw/LUCIEPSC34.jpg", "https://i.ibb.co/C53HfFbp/LUCIEPSC35.jpg", "https://i.ibb.co/216WgJM7/LUCIEPSC36.jpg", 
            "https://i.ibb.co/mC6XN7sP/LUCIEPSC37.jpg", "https://i.ibb.co/Nd97r0yt/LUCIEPSC38.jpg", "https://i.ibb.co/XZb4NnMx/LUCIEPSC39.jpg", 
            "https://i.ibb.co/nxRjSQK/LUCIEPSC40.jpg", "https://i.ibb.co/bMpyfMr2/LUCIEPSC41.jpg", "https://i.ibb.co/hFg7pNym/LUCIEPSC42.jpg", 
            "https://i.ibb.co/xnCQyY1/LUCIEPSC43.jpg", "https://i.ibb.co/hRB2Dk9J/LUCIEPSC45.jpg", "https://i.ibb.co/svL1jyy3/LUCIEPSC44.jpg", 
            "https://i.ibb.co/WvV4LcC7/LUCIEPSC46.jpg", "https://i.ibb.co/GfbLm91z/LUCIEPSC47.jpg", "https://i.ibb.co/FLLy1rLh/LUCIEPSC49.jpg", 
            "https://i.ibb.co/GvRgRB46/LUCIEPSC48.jpg", "https://i.ibb.co/wryd3Gr0/LUCIEPSC51.jpg", "https://i.ibb.co/PzmzFBxj/LUCIEPSC50.jpg", 
            "https://i.ibb.co/PZLQCCgW/LUCIEPSC52.jpg", "https://i.ibb.co/Mxb37VjR/LUCIEPSC53.jpg", "https://i.ibb.co/ycGrtfbh/LUCIEPSC54.jpg", 
            "https://i.ibb.co/MxfmmyLN/LUCIEPSC55.jpg", "https://i.ibb.co/FqdpJf5q/LUCIEPSC56.jpg", "https://i.ibb.co/9HBXydhH/LUCIEPSC57.jpg", 
            "https://i.ibb.co/846jHM40/LUCIEPSC58.jpg", "https://i.ibb.co/pBsg00LD/LUCIEPSC59.jpg", "https://i.ibb.co/yGrVpk2/LUCIEPSC60.jpg", 
            "https://i.ibb.co/5XhMcNY8/LUCIEPSC61.jpg", "https://i.ibb.co/MybxCK7y/LUCIEPSC62.jpg", "https://i.ibb.co/qHV3ch6/LUCIEPSC63.jpg", 
            "https://i.ibb.co/3yb4MYcY/LUCIEPSC64.jpg", "https://i.ibb.co/239DQ6F4/LUCIEPSC65.jpg", "https://i.ibb.co/d0nXccxj/LUCIEPSC66.jpg", 
            "https://i.ibb.co/RpJ6wFYG/LUCIEPSC67.jpg", "https://i.ibb.co/NgkT9Cgb/LUCIEPSC68.jpg", "https://i.ibb.co/0VQ0QxJc/LUCIEPSC69.jpg", 
            "https://i.ibb.co/LhYL3T6M/LUCIEPSC70.jpg", "https://i.ibb.co/rKxxg8rp/LUCIEPSC71.jpg", "https://i.ibb.co/prWfHGbm/LUCIEPSC72.jpg", 
            "https://i.ibb.co/gL7bRp0X/LUCIEPSC74.jpg", "https://i.ibb.co/QFSRG10b/LUCIEPSC73.jpg", "https://i.ibb.co/3msGhWYZ/LUCIEPSC75.jpg", 
            "https://i.ibb.co/JFgt064N/LUCIEPSC76.jpg", "https://i.ibb.co/mVc8RSv3/LUCIEPSC77.jpg", "https://i.ibb.co/ksLSJBNG/LUCIEPSC78.jpg", 
            "https://i.ibb.co/23RD858Z/LUCIEPSC79.jpg", "https://i.ibb.co/TxgVM7Qq/LUCIEPSC80.jpg", "https://i.ibb.co/7N2kr8dT/LUCIEPSC81.jpg", 
            "https://i.ibb.co/s9jdBKBy/LUCIEPSC82.jpg", "https://i.ibb.co/ccrNFJs6/LUCIEPSC83.jpg", "https://i.ibb.co/cKmvKBZ5/LUCIEPSC84.jpg", 
            "https://i.ibb.co/gNPQWnS/LUCIEPSC85.jpg", "https://i.ibb.co/zhLnnY3X/LUCIEPSC86.jpg", "https://i.ibb.co/Rk09v7fh/LUCIEPSC87.jpg", 
            "https://i.ibb.co/M5s9vFjD/LUCIEPSC88.jpg", "https://i.ibb.co/Xcqg2tX/LUCIEPSC89.jpg", "https://i.ibb.co/ynVxd2qJ/LUCIEPSC90.jpg", 
            "https://i.ibb.co/bjPzQZ42/LUCIEPSC91.jpg", "https://i.ibb.co/zWbWHSSb/LUCIEPSC92.jpg", "https://i.ibb.co/27HyPDNd/LUCIEPSC93.jpg", 
            "https://i.ibb.co/tw4XM7j7/LUCIEPSC94.jpg", "https://i.ibb.co/FL8XwD8X/LUCIEPSC95.jpg", "https://i.ibb.co/Tqn9GR3Y/LUCIEPSC96.jpg", 
            "https://i.ibb.co/wZnkDbSj/LUCIEPSC97.jpg", "https://i.ibb.co/1NwL334/LUCIEPSC98.jpg", "https://i.ibb.co/My77K57h/LUCIEPSC99.jpg"
        ];


        const packageData = [
            { id: 'lucie1', name: 'LUCIE 1', price: 3500000, 
              location_details: ['STUDIO LUCIE'], 
              product_details: ['01 ·∫¢nh khung 60x90', '01 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['01 vest t·ª± ch·ªçn', '01 v√°y c∆∞·ªõi t·ª± ch·ªçn', 'Trang ƒêi·ªÉm, l√†m t√≥c CD-CR', 'Hoa v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['Kh√¥ng √°p d·ª•ng D·ªãch v·ª• ng√†y c∆∞·ªõi.'],
              comp_location: 'Studio Lucie',
              comp_frame: '1 Khung 60x90',
              comp_album: 'Kh√¥ng Album',
              comp_video: 'Kh√¥ng Video',
              comp_shoot_outfits: '1 Vest, 1 V√°y C∆∞·ªõi',
              comp_wedding_level: 'Kh√¥ng'
            },
            { id: 'lucie2', name: 'LUCIE 2', price: 5800000, 
              location_details: ['STUDIO LUCIE'], 
              product_details: ['02 ·∫¢nh khung 60x90 (·∫¢nh G∆∞∆°ng)', '01 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', '02 ·∫¢nh Khung', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['01 vest t·ª± ch·ªçn', '01 v√°y c∆∞·ªõi t·ª± ch·ªçn', 'Trang ƒêi·ªÉm, l√†m t√≥c CD-CR', 'Hoa v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['01 V√°y, 01 vest', '√Åo d√†i D√¢u', 'Make up n·ªôi th√†nh 4km.'],
              comp_location: 'Studio Lucie',
              comp_frame: '2 Khung 60x90 G∆∞∆°ng',
              comp_album: 'Kh√¥ng Album',
              comp_video: 'Kh√¥ng Video',
              comp_shoot_outfits: '1 Vest, 1 V√°y C∆∞·ªõi',
              comp_wedding_level: '01 V√°y, 01 Vest, √Åo d√†i D√¢u. Make up 4km.'
            },
            { id: 'lucie3', name: 'LUCIE 3', price: 6800000, 
              location_details: ['STUDIO LUCIE'], 
              product_details: ['02 ·∫¢nh khung 60x90 (G∆∞∆°ng)', '01 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', 'Album 20x30 10 Trang', '01 slide ·∫£nh', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['01 vest t·ª± ch·ªçn', '01 v√°y c∆∞·ªõi t·ª± ch·ªçn', '01 V√°y Phi t·ª± ch·ªçn', 'Makeup l√†m t√≥c ng√†y ch·ª•p', '1 concept t·ª± ch·ªçn (√°o d√†i/c·ªï ph·ª•c ƒë·ªì ƒë√¥i)', 'Hoa v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['01 V√°y, 01 vest', '√Åo d√†i D√¢u', '√Åo d√†i ƒë√¥ l·∫ª n·ªØ N∆°/caravat ƒë·ªôi ƒë√¥ l·∫ª nam', 'Make up n·ªôi th√†nh 4km (c√≥ make up ngo·∫°i th√†nh).'],
              comp_location: 'Studio Lucie',
              comp_frame: '2 Khung 60x90 G∆∞∆°ng',
              comp_album: 'Album 20x30 (10 Trang)',
              comp_video: 'Video Slide',
              comp_shoot_outfits: '1 Vest, 1 V√°y C∆∞·ªõi, 1 V√°y Phi',
              comp_wedding_level: '01 V√°y, 01 Vest, √Åo d√†i D√¢u. Make up 4km.'
            },
            { id: 'lucie4', name: 'LUCIE 4', price: 7900000, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng HD', 'Ngo·∫°i c·∫£nh n·ªôi th√†nh HD (Mi·ªÖn ph√≠ xe).'], 
              product_details: ['02 ·∫¢nh khung 60x90 tr√°ng g∆∞∆°ng bo g√≥c', '01 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', 'Album 20x30 15 Trang', '01 Video slide ·∫£nh 4K', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['02 vest t·ª± ch·ªçn', '02 v√°y c∆∞·ªõi t·ª± ch·ªçn', '01 V√°y Phi t·ª± ch·ªçn', 'Makeup l√†m t√≥c ng√†y ch·ª•p', '1 concept t·ª± ch·ªçn (√°o d√†i/c·ªï ph·ª•c ƒë·ªì ƒë√¥i)', 'Hoa v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['01 V√°y, 01 vest', '√Åo d√†i CD', '√Åo d√†i ƒë·ªè l·∫ª n·ªØ N∆°/caravat ƒë·ªôi ƒë√¥ l·∫ª nam', 'Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).'],
              comp_location: 'Ngo·∫°i c·∫£nh N·ªôi th√†nh HD (Mi·ªÖn ph√≠ xe)',
              comp_frame: '2 Khung 60x90 Tr√°ng G∆∞∆°ng',
              comp_album: 'Album 20x30 (15 Trang)',
              comp_video: 'Video Slide 4K',
              comp_shoot_outfits: '2 Vest, 2 V√°y C∆∞·ªõi, 1 V√°y Phi',
              comp_wedding_level: '01 V√°y, 01 Vest, √Åo d√†i CD. Make up ƒÇn H·ªèi + C∆∞·ªõi (10km free).'
            },
            { id: 'lucie5', name: 'LUCIE 5', price: 8800000, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng HD', 'Ngo·∫°i c·∫£nh Ch√≠ Linh/C√¥n S∆°n (Mi·ªÖn ph√≠ xe).'], 
              product_details: ['02 ·∫¢nh khung 60x90 meka HD', '01 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', 'Album 20x30 15 Trang', '01 Video slide ·∫£nh 4K', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['02 vest t·ª± ch·ªçn', '02 v√°y c∆∞·ªõi t·ª± ch·ªçn', '01 V√°y cao c·∫•p', 'Makeup l√†m t√≥c ng√†y ch·ª•p', '1 concept t·ª± ch·ªçn (√°o d√†i/c·ªï ph·ª•c ƒë·ªì ƒë√¥i)', 'Hoa v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['01 V√°y cao c·∫•p, 01 vest, N∆°/caravat ch√∫ r·ªÉ', '√Åo d√†i c·∫∑p CD&CR', '√Åo d√†i ƒë·ªè l·∫ª nam - n·ªØ', 'Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).'],
              comp_location: 'Ngo·∫°i c·∫£nh Ch√≠ Linh/C√¥n S∆°n (Mi·ªÖn ph√≠ xe)',
              comp_frame: '2 Khung 60x90 Meka HD',
              comp_album: 'Album 20x30 (15 Trang)',
              comp_video: 'Video Slide 4K',
              comp_shoot_outfits: '2 Vest, 2 V√°y C∆∞·ªõi, 1 V√°y Cao c·∫•p',
              comp_wedding_level: '01 V√°y Cao c·∫•p, √Åo d√†i c·∫∑p CD&CR. Make up ƒÇn H·ªèi + C∆∞·ªõi (10km free).'
            },
            { id: 'lucie6', name: 'LUCIE 6', price: 11000000, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng H√† N·ªôi (santorini park, 5graden, smile valley..v.v.)', 'Ngo·∫°i c·∫£nh H√† N·ªôi/U√¥ng B√≠/H·∫° Long.'], 
              product_details: ['02 Khung 60x90 meka HD', '01 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', 'Album 20x30 20 Trang', '01 Video slide ·∫£nh 4K', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['02 vest t·ª± ch·ªçn', '01 v√°y c∆∞·ªõi t·ª± ch·ªçn', '02 V√°y cao c·∫•p', 'Makeup l√†m t√≥c ng√†y ch·ª•p', '2 concept t·ª± ch·ªçn (√°o d√†i/c·ªï ph·ª•c ƒë·ªì ƒë√¥i)', 'Hoa v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['01 V√°y cao c·∫•p, 01 vest, N∆°/caravat ch√∫ r·ªÉ', '√Åo d√†i c·∫∑p cao c·∫•p CD&CR', '√Åo d√†i ƒë·ªè l·∫ª nam n·ªØ (tu·ª≥ s·ªë l∆∞·ª£ng)', 'Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).'],
              comp_location: 'Ngo·∫°i c·∫£nh HN/U√¥ng B√≠/H·∫° Long',
              comp_frame: '2 Khung 60x90 Meka HD',
              comp_album: 'Album 20x30 (20 Trang)',
              comp_video: 'Video Slide 4K',
              comp_shoot_outfits: '2 Vest, 1 V√°y C∆∞·ªõi, 2 V√°y Cao c·∫•p',
              comp_wedding_level: '01 V√°y Cao c·∫•p, √Åo d√†i c·∫∑p Cao c·∫•p CD&CR. Make up ƒÇn H·ªèi + C∆∞·ªõi (10km free).'
            },
            { id: 'lucie7', name: 'LUCIE 7', price: 12500000, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng H√† N·ªôi', 'Ngo·∫°i c·∫£nh H√† N·ªôi/U√¥ng B√≠/H·∫° Long.'], 
              product_details: ['01 Khung 60x90 meka HD', '01 Khung 60x120 meka HD', '01 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', 'B·ªô khung VIP 12 ·∫£nh (Album 30x30 20 Trang)', '01 Video slide ·∫£nh 4K', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['02 vest t·ª± ch·ªçn', '01 v√°y c∆∞·ªõi t·ª± ch·ªçn', '02 V√°y cao c·∫•p', 'Makeup l√†m t√≥c ng√†y ch·ª•p', '2 concept t·ª± ch·ªçn (√°o d√†i/c·ªï ph·ª•c ƒë·ªì ƒë√¥i)', 'Hoa v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['01 V√°y limited', '01 v√°y ph√≠ ƒëi b√†n', '01 vest, N∆°/caravat ch√∫ r·ªÉ', '√Åo d√†i c·∫∑p cao c·∫•p CD&CR', '√Åo d√†i ƒë·ª° l·∫ª nam n·ªØ (tu·ª≥ s·ªë l∆∞·ª£ng)', 'Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).'],
              comp_location: 'Ngo·∫°i c·∫£nh HN/U√¥ng B√≠/H·∫° Long',
              comp_frame: '1 Khung 60x90 + 1 Khung 60x120',
              comp_album: 'Album 30x30 (20 Trang) + B·ªô 12 ·∫£nh',
              comp_video: 'Video Slide 4K',
              comp_shoot_outfits: '2 Vest, 1 V√°y C∆∞·ªõi, 2 V√°y Cao c·∫•p',
              comp_wedding_level: '01 V√°y Limited, 01 V√°y Phi ƒëi b√†n. √Åo d√†i c·∫∑p Cao c·∫•p.'
            },
            { id: 'lucie8', name: 'LUCIE 8', price: 15500000, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng H√† N·ªôi', 'Ngo·∫°i c·∫£nh Qu·∫£ng Ninh/Tam ƒê·∫£o/Ninh B√¨nh/ƒê·∫°i L·∫£i.'], 
              product_details: ['02 ·∫¢nh khung 60x90 G∆∞∆°ng 4K Khung Kim lo·∫°i', '02 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', 'B·ªô khung VIP 15 ·∫£nh (Album 30x30 30 Trang)', '01 Video slide ·∫£nh 4K', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['02 vest t·ª± ch·ªçn', '02 v√°y c∆∞·ªõi t·ª± ch·ªçn', '01 V√°y limited', 'Makeup l√†m t√≥c ng√†y ch·ª•p', '2 concept t·ª± ch·ªçn (√°o d√†i/c·ªï ph·ª•c ƒë·ªì ƒë√¥i)', 'Hoa v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['01 V√°y limited', '01 v√°y ph√≠ ƒëi b√†n', '01 vest, N∆°/caravat ch√∫ r·ªÉ', '√Åo d√†i c·∫∑p cao c·∫•p CD&CR', '√Åo d√†i ƒë·ªè l·∫ª nam n·ªØ (tu·ª≥ s·ªë l∆∞·ª£ng)', 'Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).'],
              comp_location: 'Ngo·∫°i c·∫£nh QN/Tam ƒê·∫£o/NB/ƒêL',
              comp_frame: '2 Khung 60x90 G∆∞∆°ng 4K Khung Kim lo·∫°i',
              comp_album: 'Album 30x30 (30 Trang) + B·ªô 15 ·∫£nh VIP',
              comp_video: 'Video Slide 4K',
              comp_shoot_outfits: '2 Vest, 2 V√°y C∆∞·ªõi, 1 V√°y Limited',
              comp_wedding_level: '01 V√°y Limited, 01 V√°y Phi ƒëi b√†n. √Åo d√†i c·∫∑p Cao c·∫•p.'
            },
            { id: 'lucievip', name: 'LUCIE VIP', price: 26500000, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng H√† N·ªôi', 'Ngo·∫°i c·∫£nh QN/Tam ƒê·∫£o/NB/ƒê·∫°i L·∫£i/C√¥ T√¥/Quan L·∫°n.'], 
              product_details: ['02 ·∫¢nh khung 60x90 G∆∞∆°ng 4K Khung Kim lo·∫°i', '01 ·∫¢nh khung 60x120 meka HD', '02 ·∫¢nh ƒë·ªÉ b√†n 20x30 √©p g·ªó', 'B·ªô khung VIP 15 ·∫£nh (Album 4K 30x30 30 Trang)', '01 Video slide ·∫£nh 4K', '01 Video prewedding', 'Tr·∫£ to√†n b·ªô file g·ªëc & file ch·ªânh s·ª≠a.'], 
              shooting_service_details: ['03 vest t·ª± ch·ªçn', '02 v√°y c∆∞·ªõi t·ª± ch·ªçn', '02 V√°y limited', 'Makeup l√†m t√≥c ng√†y ch·ª•p', '2 concept t·ª± ch·ªçn (√°o d√†i/c·ªï ph·ª•c ƒë·ªì ƒë√¥i)', 'Hoa t∆∞∆°i v√† ph·ª• ki·ªán.'], 
              wedding_service_details: ['01 V√°y thi·∫øt k·∫ø cao c·∫•p theo s·ªë ƒëo', '01 v√°y ph√≠ ƒëi b√†n', '01 vest, N∆°/caravat ch√∫ r·ªÉ', '√Åo d√†i c·∫∑p cao c·∫•p CD&CR', '√Åo d√†i ƒë·ªè l·∫ª nam n·ªØ (tu·ª≥ s·ªë l∆∞·ª£ng)', 'Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).'],
              comp_location: 'Ngo·∫°i c·∫£nh QN/Tƒê/NB/ƒêL/C√¥ T√¥/QL',
              comp_frame: '2 Khung 60x90 G∆∞∆°ng 4K Khung Kim lo·∫°i + 1 Khung 60x120',
              comp_album: 'Album 4K 30x30 (30 Trang) + B·ªô 15 ·∫£nh VIP',
              comp_video: 'Video Slide 4K + Video Prewedding',
              comp_shoot_outfits: '3 Vest, 2 V√°y C∆∞·ªõi, 2 V√°y Limited',
              comp_wedding_level: '01 V√°y Thi·∫øt k·∫ø theo s·ªë ƒëo. √Åo d√†i c·∫∑p Cao c·∫•p.'
            },
            { id: 'combo1', name: 'PACKCOMBO 1', price: 11000000, isCombo: true, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng HD', 'Ngo·∫°i c·∫£nh n·ªôi th√†nh HD (Mi·ªÖn ph√≠ xe).'], 
              product_details: ['To√†n b·ªô S·∫£n ph·∫©m ·∫¢nh c·ªßa g√≥i LUCIE 4.'], 
              shooting_service_details: ['To√†n b·ªô D·ªãch v·ª• Ng√†y Ch·ª•p c·ªßa g√≥i LUCIE 4.'], 
              wedding_service_details: [
                '01 V√°y, 01 vest, √Åo d√†i CD, √Åo d√†i ƒë√¥ l·∫ª n·ªØ N∆°/caravat ƒë·ªôi ƒë√¥ l·∫ª nam, Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).', 
                'B·ªï sung: 01 m√°y ch·ª•p ·∫£nh l·∫ª L·ªÖ ƒÇn h·ªèi + L·ªÖ C∆∞·ªõi.'
              ],
              comp_location: 'Ngo·∫°i c·∫£nh N·ªôi th√†nh HD', 
              comp_frame: '2 Khung 60x90 Tr√°ng G∆∞∆°ng',
              comp_album: 'Album 20x30 (15 Trang)',
              comp_video: 'Video Slide 4K',
              comp_shoot_outfits: '2 Vest, 2 V√°y C∆∞·ªõi, 1 V√°y Phi',
              comp_wedding_level: 'G√≥i LUCIE 4 (Wedding) + 1 m√°y ch·ª•p L·ªÖ ƒÇn h·ªèi/C∆∞·ªõi.'
            },
            { id: 'combo2', name: 'PACKCOMBO 2', price: 12000000, isCombo: true, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng HD', 'Ngo·∫°i c·∫£nh Ch√≠ Linh/C√¥n S∆°n (Mi·ªÖn ph√≠ xe).'], 
              product_details: ['To√†n b·ªô S·∫£n ph·∫©m ·∫¢nh c·ªßa g√≥i LUCIE 5.'], 
              shooting_service_details: ['To√†n b·ªô D·ªãch v·ª• Ng√†y Ch·ª•p c·ªßa g√≥i LUCIE 5.'], 
              wedding_service_details: [
                '01 V√°y cao c·∫•p, 01 vest, N∆°/caravat ch√∫ r·ªÉ, √Åo d√†i c·∫∑p CD&CR, √Åo d√†i ƒë·ªè l·∫ª nam - n·ªØ, Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).',
                'B·ªï sung: 01 m√°y ch·ª•p ·∫£nh l·∫ª L·ªÖ ƒÇn h·ªèi + L·ªÖ C∆∞·ªõi.'
              ],
              comp_location: 'Ngo·∫°i c·∫£nh Ch√≠ Linh/C√¥n S∆°n', 
              comp_frame: '2 Khung 60x90 Meka HD',
              comp_album: 'Album 20x30 (15 Trang)',
              comp_video: 'Video Slide 4K',
              comp_shoot_outfits: '2 Vest, 2 V√°y C∆∞·ªõi, 1 V√°y Cao c·∫•p',
              comp_wedding_level: 'G√≥i LUCIE 5 (Wedding) + 1 m√°y ch·ª•p L·ªÖ ƒÇn h·ªèi/C∆∞·ªõi.'
            },
            { id: 'combo3', name: 'PACKCOMBO 3', price: 14000000, isCombo: true, 
              location_details: ['STUDIO LUCIE', 'Phim tr∆∞·ªùng H√† N·ªôi', 'Ngo·∫°i c·∫£nh H√† N·ªôi/U√¥ng B√≠/H·∫° Long.'], 
              product_details: ['To√†n b·ªô S·∫£n ph·∫©m ·∫¢nh c·ªßa g√≥i LUCIE 6.'], 
              shooting_service_details: ['To√†n b·ªô D·ªãch v·ª• Ng√†y Ch·ª•p c·ªßa g√≥i LUCIE 6.'], 
              wedding_service_details: [
                '01 V√°y cao c·∫•p, 01 vest, N∆°/caravat ch√∫ r·ªÉ, √Åo d√†i c·∫∑p cao c·∫•p CD&CR', '√Åo d√†i ƒë·ªè l·∫ª nam n·ªØ (tu·ª≥ s·ªë l∆∞·ª£ng)', 'Make up ƒÉn h·ªèi + c∆∞·ªõi (10km free c√≥ make up ngo·∫°i th√†nh).',
                'B·ªï sung: 01 m√°y ch·ª•p ·∫£nh l·∫ª L·ªÖ ƒÇn h·ªèi + L·ªÖ C∆∞·ªõi.'
              ],
              comp_location: 'Ngo·∫°i c·∫£nh HN/U√¥ng B√≠/H·∫° Long', 
              comp_frame: '2 Khung 60x90 Meka HD',
              comp_album: 'Album 20x30 (20 Trang)',
              comp_video: 'Video Slide 4K',
              comp_shoot_outfits: '2 Vest, 1 V√°y C∆∞·ªõi, 2 V√°y Cao c·∫•p',
              comp_wedding_level: 'G√≥i LUCIE 6 (Wedding) + 1 m√°y ch·ª•p L·ªÖ ƒÇn h·ªèi/C∆∞·ªõi.'
            }
        ];

        let priceChartInstance;
        let currentView = 'view-details';
        let currentFilter = 'all'; // State for gallery filter
        let selectedPackageId = 'lucie4'; // Bi·∫øn theo d√µi g√≥i ƒëang ƒë∆∞·ª£c xem chi ti·∫øt

        // --- CORE FUNCTIONS ---
        
        const API_URL = "https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=";
        const API_KEY = ""; // Canvas will inject API key
        
        async function fetchGemini(prompt, isJson = false) {
            let attempt = 0;
            const maxRetries = 3;
            const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));

            const headers = { 'Content-Type': 'application/json' };
            
            const payload = {
                contents: [{ parts: [{ text: prompt }] }],
                systemInstruction: { parts: [{ text: "You are a professional wedding stylist and advisor. Respond in Vietnamese. Be creative, enthusiastic, and provide relevant, structured advice." }] },
                config: { temperature: 0.7 }
            };

            if (isJson) {
                payload.generationConfig = {
                    responseMimeType: "application/json",
                    responseSchema: {
                        type: "OBJECT",
                        properties: {
                            "adviceTitle": { "type": "STRING" },
                            "outfitAdvice": { "type": "ARRAY", "items": { "type": "STRING" } },
                            "colorPalette": { "type": "STRING" }
                        },
                        required: ["adviceTitle", "outfitAdvice"]
                    }
                };
            }

            while (attempt < maxRetries) {
                try {
                    const response = await fetch(API_URL + API_KEY, {
                        method: 'POST',
                        headers: headers,
                        body: JSON.stringify(payload)
                    });
                    
                    if (response.ok) {
                        const result = await response.json();
                        const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                        if (isJson && text) {
                            try {
                                return JSON.parse(text);
                            } catch (e) {
                                console.error("L·ªói ph√¢n t√≠ch JSON:", e);
                                return { error: "L·ªói ph·∫£n h·ªìi t·ª´ AI." };
                            }
                        }
                        return { text: text || "Kh√¥ng nh·∫≠n ƒë∆∞·ª£c ph·∫£n h·ªìi t·ª´ AI." };
                    } else if (response.status === 429) {
                        attempt++;
                        await delay(Math.pow(2, attempt) * 1000); // Exponential backoff
                    } else {
                        return { error: `L·ªói API: ${response.statusText}` };
                    }
                } catch (error) {
                    attempt++;
                    await delay(Math.pow(2, attempt) * 1000);
                }
            }
            return { error: "L·ªói k·∫øt n·ªëi ho·∫∑c API qu√° t·∫£i." };
        }
        
        async function startOutfitConsult() {
            const pkg = packageData.find(p => p.id === selectedPackageId);
            if (!pkg) return;

            const outputDiv = document.getElementById('consultationOutput');
            const loader = document.getElementById('consultationLoader');
            const button = document.getElementById('outfitConsultBtn');

            const packageInfo = `G√≥i: ${pkg.name}. ƒê·ªãa ƒëi·ªÉm ch√≠nh: ${pkg.location_details.join(', ')}. Trang ph·ª•c bao g·ªìm: ${pkg.shooting_service_details.join(', ')}. H√£y t∆∞ v·∫•n phong c√°ch trang ph·ª•c ph√π h·ª£p cho c√¥ d√¢u v√† ch√∫ r·ªÉ.`;

            outputDiv.classList.remove('hidden');
            loader.classList.remove('hidden');
            button.disabled = true;
            document.getElementById('consultationText').textContent = "";

            const prompt = `D·ª±a tr√™n th√¥ng tin g√≥i d·ªãch v·ª• c∆∞·ªõi sau, h√£y ƒë√≥ng vai l√† m·ªôt nh√† t·∫°o m·∫´u chuy√™n nghi·ªáp v√† cung c·∫•p l·ªùi khuy√™n s√°ng t·∫°o, c·ª• th·ªÉ v·ªÅ phong c√°ch trang ph·ª•c (v√°y, vest, m√†u s·∫Øc, ph·ª• ki·ªán) cho c√¥ d√¢u v√† ch√∫ r·ªÉ ƒë·ªÉ t·ªëi ∆∞u h√≥a bu·ªïi ch·ª•p. ${packageInfo}`;

            const result = await fetchGemini(prompt, false);

            loader.classList.add('hidden');
            button.disabled = false;

            if (result.error) {
                document.getElementById('consultationText').innerHTML = `<span class="text-red-600">L·ªói: ${result.error}</span>`;
            } else {
                 document.getElementById('consultationText').innerHTML = result.text.replace(/\n/g, '<br>');
            }
        }
        
        async function generateCaption() {
            const currentImgSrc = document.getElementById('modalImage').src;
            const captionDiv = document.getElementById('modalCaption');
            const loader = document.getElementById('captionLoader');
            const button = document.querySelector('#modalContent button');
            
            captionDiv.textContent = "";
            loader.classList.remove('hidden');
            button.disabled = true;

            const prompt = `ƒê√¢y l√† m·ªôt b·ª©c ·∫£nh c∆∞·ªõi. Vui l√≤ng t·∫°o 3 c√¢u ch√∫ th√≠ch (caption) ng·∫Øn v√† c·∫£m x√∫c (m·ªôt l√£ng m·∫°n, m·ªôt h√†i h∆∞·ªõc, m·ªôt tri·∫øt l√Ω ng·∫Øn v·ªÅ t√¨nh y√™u) cho b·ª©c ·∫£nh n√†y.`;
            
            // D√πng image understanding (multimodal)
            const base64Img = await urlToBase64(currentImgSrc);

            const payload = {
                contents: [{
                    parts: [
                        { text: prompt },
                        { inlineData: { mimeType: "image/jpeg", data: base64Img } }
                    ]
                }],
                config: { temperature: 0.8 }
            };
            
            let attempt = 0;
            const maxRetries = 3;
            const delay = (ms) => new Promise(resolve => setTimeout(resolve, ms));

            while (attempt < maxRetries) {
                try {
                    const response = await fetch(API_URL + API_KEY, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });
                    
                    if (response.ok) {
                        const result = await response.json();
                        const text = result.candidates?.[0]?.content?.parts?.[0]?.text;
                        loader.classList.add('hidden');
                        button.disabled = false;
                        if (text) {
                            captionDiv.innerHTML = text.replace(/\n/g, '<br>');
                            return;
                        }
                    } else if (response.status === 429) {
                        attempt++;
                        await delay(Math.pow(2, attempt) * 1000); 
                    } else {
                        loader.classList.add('hidden');
                        button.disabled = false;
                        captionDiv.innerHTML = `<span class="text-red-600">L·ªói AI: Kh√¥ng th·ªÉ ph√¢n t√≠ch ·∫£nh.</span>`;
                        return;
                    }
                } catch (error) {
                    attempt++;
                    await delay(Math.pow(2, attempt) * 1000);
                }
            }
            loader.classList.add('hidden');
            button.disabled = false;
            captionDiv.innerHTML = `<span class="text-red-600">L·ªói k·∫øt n·ªëi: Vui l√≤ng th·ª≠ l·∫°i sau.</span>`;
        }
        
        // Helper function to convert image URL to Base64 (required for multimodal API)
        function urlToBase64(url) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.crossOrigin = 'Anonymous';
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    const ctx = canvas.getContext('2d');
                    ctx.drawImage(img, 0, 0);
                    // Gi·∫£m ch·∫•t l∆∞·ª£ng/k√≠ch th∆∞·ªõc n·∫øu c·∫ßn ƒë·ªÉ ƒë√°p ·ª©ng gi·ªõi h·∫°n API
                    const dataURL = canvas.toDataURL('image/jpeg', 0.8); 
                    resolve(dataURL.split(',')[1]);
                };
                img.onerror = (e) => reject('Kh√¥ng th·ªÉ t·∫£i ·∫£nh t·ª´ URL.');
                img.src = url;
            });
        }


        function formatCurrency(value) {
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(value);
        }
        
        function switchView(viewId) {
            selectedPackageId = document.querySelector('.package-selector-button.active')?.getAttribute('data-package-id') || 'lucie4'; // L∆∞u g√≥i hi·ªán t·∫°i
            
            // ... (Ph·∫ßn switchView gi·ªØ nguy√™n) ...
            currentView = viewId;
            // Hide all views
            document.querySelectorAll('.content-view').forEach(view => {
                view.classList.remove('active');
            });
            // Show the selected view
            const activeView = document.getElementById(viewId);
            if (activeView) {
                activeView.classList.add('active');
            }
            
            // Update navigation links
            document.querySelectorAll('#mainNav .nav-link').forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('data-view') === viewId) {
                    link.classList.add('active');
                }
            });
            
            // Re-render chart if switching to B·∫£ng So S√°nh
            if (viewId === 'view-comparison' && !priceChartInstance) {
                createPriceChart();
            }
            // Populate gallery if switching to Album & Video (S·ª¨A L·ªñI: ƒë·∫£m b·∫£o h√†m n√†y ch·∫°y)
            if (viewId === 'view-gallery') {
                populateGallery();
                createGalleryFilters();
            }
            
            // Sau khi chuy·ªÉn view, c·∫≠p nh·∫≠t l·∫°i chi ti·∫øt g√≥i n·∫øu ƒëang ·ªü view-details
            if (viewId === 'view-details') {
                updateDetailPanel(selectedPackageId);
            }

            // Scroll to the top of the content area
            document.querySelector('main').scrollIntoView({ behavior: 'smooth' });
        }

        // --- UI POPULATION FUNCTIONS ---
        
        // T·∫°o n√∫t ch·ªçn g√≥i
        function populatePackageButtons() {
            const lucieContainer = document.getElementById('packageButtonsLucie');
            const comboContainer = document.getElementById('packageButtonsCombo');
            
            let lucieHtml = '';
            let comboHtml = '';
            
            packageData.forEach(pkg => {
                const buttonHtml = `
                    <button 
                        class="package-selector-button p-2 px-4 rounded-full text-sm hover:shadow-md"
                        data-package-id="${pkg.id}"
                        onclick="handlePackageButtonClick('${pkg.id}')">
                        ${pkg.name}
                    </button>
                `;
                if (pkg.isCombo) {
                    comboHtml += buttonHtml;
                } else {
                    lucieHtml += buttonHtml;
                }
            });
            
            lucieContainer.innerHTML = lucieHtml;
            comboContainer.innerHTML = comboHtml;
            
            // Set default active state
            handlePackageButtonClick('lucie4');
        }

        // X·ª≠ l√Ω s·ª± ki·ªán khi click n√∫t ch·ªçn g√≥i
        function handlePackageButtonClick(packageId) {
            selectedPackageId = packageId; // C·∫≠p nh·∫≠t g√≥i ƒëang xem
            updateDetailPanel(packageId);
            
            // Remove active class from all buttons
            document.querySelectorAll('.package-selector-button').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // Add active class to the clicked button
            const activeBtn = document.querySelector(`.package-selector-button[data-package-id="${packageId}"]`);
            if (activeBtn) {
                activeBtn.classList.add('active');
            }
        }
        
        // H√†m chuy·ªÉn ƒë·ªïi t√™n file th√†nh ch√∫ th√≠ch
        function getCaption(url) {
            try {
                // L·∫•y ph·∫ßn cu·ªëi c√πng c·ªßa URL (t√™n file)
                const parts = url.split('/');
                let filename = parts[parts.length - 1];
                
                // Lo·∫°i b·ªè ph·∫ßn m·ªü r·ªông (.jpg, .png...)
                filename = filename.split('.')[0];
                
                // Thay th·∫ø c√°c k√Ω t·ª± ƒë·∫∑c bi·ªát b·∫±ng kho·∫£ng tr·∫Øng v√† vi·∫øt hoa ch·ªØ c√°i ƒë·∫ßu
                let caption = filename.replace(/([a-z])([A-Z])/g, '$1 $2').replace(/(\d+)/g, ' $1').trim();
                
                // X·ª≠ l√Ω t√™n file ph√≥ng s·ª± ƒë·∫∑c bi·ªát
                if (caption.startsWith("Lucie P S C")) {
                     return "Kho·∫£nh kh·∫Øc Ph√≥ng S·ª± C∆∞·ªõi";
                }

                // Vi·∫øt hoa ch·ªØ c√°i ƒë·∫ßu ti√™n
                return caption.charAt(0).toUpperCase() + caption.slice(1);
            } catch (e) {
                return "·∫¢nh chi ti·∫øt";
            }
        }

        // NEW: H√†m l·∫•y t√™n danh m·ª•c t·ª´ URL v√† chu·∫©n h√≥a
        function getCategory(url) {
            try {
                const parts = url.split('/');
                let filename = parts[parts.length - 1];
                let categoryCode = filename.split(/(\d+)/)[0]; // L·∫•y ph·∫ßn ch·ªØ ƒë·∫ßu ti√™n (VD: CHILINH, AODAI)
                categoryCode = categoryCode.toUpperCase();
                
                // √Ånh x·∫° t√™n danh m·ª•c th√¢n thi·ªán
                const categoryMap = {
                    'AODAI': '√Åo D√†i',
                    'CHILINH': 'Ch√≠ Linh/C√¥n S∆°n',
                    'CONCEPT': 'Concept Studio',
                    'DANGOAI': 'Ngo·∫°i C·∫£nh',
                    'HDCAFE': 'Cafe/N·ªôi Th√†nh',
                    'HDNGOAITROI': 'H√† N·ªôi Ngo·∫°i Th√†nh',
                    'LUX': 'Sang Tr·ªçng (Luxury)',
                    'PHIMTRUONGHD': 'Phim Tr∆∞·ªùng HD',
                    'STUDIOS': 'Studio T·ªïng H·ª£p'
                };

                return categoryMap[categoryCode] || 'Ch·ªß ƒë·ªÅ kh√°c';
            } catch (e) {
                return 'Ch·ªß ƒë·ªÅ kh√°c';
            }
        }

        // NEW: T·∫°o c√°c n√∫t filter
        function createGalleryFilters() {
            const container = document.getElementById('galleryFilters');
            const categories = new Set();
            
            // L·∫•y t·∫•t c·∫£ danh m·ª•c t·ª´ ·∫£nh Pre-Wedding
            preweddingImageUrls.forEach(url => {
                categories.add(getCategory(url));
            });

            // T·∫°o n√∫t "T·∫•t c·∫£"
            let filterHtml = `<button class="gallery-filter-button active" onclick="setGalleryFilter('all')">T·∫•t c·∫£ (${preweddingImageUrls.length})</button>`;
            
            // T·∫°o c√°c n√∫t danh m·ª•c
            categories.forEach(cat => {
                const count = preweddingImageUrls.filter(url => getCategory(url) === cat).length;
                filterHtml += `<button class="gallery-filter-button" onclick="setGalleryFilter('${cat}')">${cat} (${count})</button>`;
            });

            container.innerHTML = filterHtml;
            setGalleryFilter(currentFilter); // √Åp d·ª•ng filter hi·ªán t·∫°i
        }

        // NEW: Thi·∫øt l·∫≠p filter v√† g·ªçi populateGallery
        function setGalleryFilter(filter) {
            currentFilter = filter;
            
            // C·∫≠p nh·∫≠t tr·∫°ng th√°i n√∫t
            document.querySelectorAll('#galleryFilters .gallery-filter-button').forEach(btn => {
                btn.classList.remove('active');
                // S·ª≠a l·ªói logic: ki·ªÉm tra n·ªôi dung text c·ªßa button c√≥ ch·ª©a filter hay kh√¥ng
                if (btn.textContent.includes(filter) || (filter === 'all' && btn.textContent.includes('T·∫•t c·∫£'))) {
                     btn.classList.add('active');
                }
            });

            populateGallery();
        }


        // S·ª¨A L·ªñI: C·∫£i ti·∫øn h√†m populateGallery ƒë·ªÉ l·ªçc ·∫£nh
        function populateGallery() {
            const preweddingContainer = document.getElementById('prewedding-gallery');
            const eventContainer = document.getElementById('event-gallery');
            
            if (!preweddingContainer || !eventContainer) return;
            
            // L·ªçc ·∫£nh d·ª±a tr√™n filter hi·ªán t·∫°i
            const filteredUrls = preweddingImageUrls.filter(url => 
                currentFilter === 'all' || getCategory(url) === currentFilter
            );

            // H√†m t·∫°o HTML cho ·∫£nh (th√™m onclick ƒë·ªÉ m·ªü modal)
            const createImageHtml = (url) => {
                const caption = getCaption(url);
                return `
                    <div class="h-40 rounded-lg shadow-inner overflow-hidden cursor-pointer" 
                         onclick="openModal('${url}', '${caption}')"
                         title="${caption}">
                        <img src="${url}" alt="${caption}" class="w-full h-full object-cover transition duration-300 hover:scale-105" onerror="this.onerror=null; this.src='https://placehold.co/400x300/F8F7F4/B8860B?text=Loi+Anh';" />
                    </div>
                `;
            };
            
            // X·ª≠ l√Ω Pre-Wedding Gallery
            if (filteredUrls.length > 0) {
                preweddingContainer.innerHTML = filteredUrls.map(createImageHtml).join('');
            } else {
                preweddingContainer.innerHTML = '<p class="text-center text-gray-500 col-span-full py-5">Kh√¥ng t√¨m th·∫•y ·∫£nh n√†o trong danh m·ª•c n√†y.</p>';
            }

            // X·ª≠ l√Ω Event Gallery
            if (eventImageUrls && eventImageUrls.length > 0) {
                eventContainer.innerHTML = eventImageUrls.map(createImageHtml).join('');
                // S·ª≠a l·ªói: ƒê·∫£m b·∫£o ·∫©n th√¥ng b√°o tr·ªëng khi c√≥ ·∫£nh
                const noticeElement = eventContainer.previousElementSibling;
                noticeElement.classList.add('hidden');
                
            } else {
                // Hi·ªÉn th·ªã th√¥ng b√°o khi kh√¥ng c√≥ ·∫£nh Ph√≥ng s·ª±
                eventContainer.innerHTML = '<p class="text-center text-gray-500 col-span-full py-5">Album Ph√≥ng S·ª± C∆∞·ªõi s·∫Ω ƒë∆∞·ª£c c·∫≠p nh·∫≠t sau.</p>';
                const noticeElement = eventContainer.previousElementSibling;
                noticeElement.classList.remove('hidden');
            }
        }

        // Lightbox/Modal Functions
        function openModal(src, caption) {
            document.getElementById('modalImage').src = src;
            
            // Reset caption and loader
            document.getElementById('modalCaption').textContent = caption;
            document.getElementById('captionLoader').classList.add('hidden');
            document.querySelector('#modalContent button').disabled = false;
            
            document.getElementById('imageModal').style.display = 'flex';
            document.body.style.overflow = 'hidden'; // NgƒÉn cu·ªôn trang
        }

        function closeModal() {
            document.getElementById('imageModal').style.display = 'none';
            document.body.style.overflow = 'auto'; // Cho ph√©p cu·ªôn l·∫°i
        }


        function populateSelectors() {
            const selectors = [document.getElementById('packageSelect1'), document.getElementById('packageSelect2'), document.getElementById('packageSelect3')];
            
            const optionsHtml = packageData.map(pkg => 
                `<option value="${pkg.id}">${pkg.name} - ${formatCurrency(pkg.price)}</option>`
            ).join('');

            selectors.forEach(selector => {
                selector.innerHTML = '<option value="">-- Ch·ªçn G√≥i --</option>' + optionsHtml;
                selector.addEventListener('change', updateComparisonTable);
            });
            
            // Set default selections
            selectors[0].value = 'lucie4';
            selectors[1].value = 'lucie6';
            selectors[2].value = 'lucie8';
        }

        function updateComparisonTable() {
            const selectedIds = [
                document.getElementById('packageSelect1').value,
                document.getElementById('packageSelect2').value,
                document.getElementById('packageSelect3').value
            ];

            const selectedPackages = selectedIds.map(id => packageData.find(pkg => pkg.id === id)).filter(p => p);
            const tableContainer = document.getElementById('comparisonTable');
            
            if (selectedPackages.length === 0) {
                 tableContainer.innerHTML = `<p class="text-center text-gray-500 py-5">H√£y ch·ªçn c√°c g√≥i t·ª´ danh s√°ch th·∫£ xu·ªëng ƒë·ªÉ b·∫Øt ƒë·∫ßu so s√°nh.</p>`;
                 return;
            }

            let headerHtml = '<th class="p-3 text-sm font-semibold text-left text-gray-600 border-b">Ti√™u Ch√≠</th>';
            selectedPackages.forEach(pkg => {
                headerHtml += `<th class="p-3 text-sm font-bold text-left text-brand-dark border-b bg-gray-50">${pkg.name}</th>`;
            });

            let bodyHtml = '';
            // UPDATED granular features for comparison table
            const features = [
                { key: 'price', label: 'Gi√° G√≥i' },
                { key: 'comp_location', label: 'ƒê·ªãa ƒêi·ªÉm Ch·ª•p (Ph·∫°m vi)' },
                { key: 'comp_frame', label: '·∫¢nh Khung L·ªõn' },
                { key: 'comp_album', label: 'Album ·∫¢nh (Size/Trang)' },
                { key: 'comp_video', label: 'Video (Lo·∫°i)' },
                { key: 'comp_shoot_outfits', label: 'Trang Ph·ª•c Ng√†y Ch·ª•p (SL/C·∫•p ƒë·ªô)' },
                { key: 'comp_wedding_level', label: 'D·ªãch V·ª• Ng√†y C∆∞·ªõi' }
            ];

            features.forEach(feature => {
                bodyHtml += `<tr><td class="p-3 text-sm font-medium text-gray-700 border-b">${feature.label}</td>`;
                selectedPackages.forEach(pkg => {
                    let value = pkg[feature.key];
                    if (feature.key === 'price') value = `<span class="font-bold text-gray-900">${formatCurrency(value)}</span>`;
                    // For comparison table, we use simple strings, not bullet points
                    bodyHtml += `<td class="p-3 text-sm text-gray-600 border-b align-top">${value}</td>`;
                });
                bodyHtml += `</tr>`;
            });
            
            tableContainer.innerHTML = `
                <table class="w-full">
                    <thead><tr>${headerHtml}</tr></thead>
                    <tbody>${bodyHtml}</tbody>
                </table>
            `;
        }
        
        function updateDetailPanel(packageId) {
            const pkg = packageData.find(p => p.id === packageId);
            const panel = document.getElementById('packageDetailPanel');
            if (!pkg) {
                panel.innerHTML = `<p class="text-center text-gray-500 py-10">Kh√¥ng t√¨m th·∫•y th√¥ng tin g√≥i.</p>`;
                return;
            }
            
            // Grouped details
            const groupedDetails = [
                { title: 'ƒê·ªãa ƒêi·ªÉm Ch·ª•p', items: pkg.location_details },
                { title: 'S·∫£n Ph·∫©m ·∫¢nh (Bao g·ªìm file g·ªëc & ch·ªânh s·ª≠a)', items: pkg.product_details },
                { title: 'D·ªãch V·ª• Ng√†y Ch·ª•p (Pre-Wedding)', items: pkg.shooting_service_details },
                { title: 'D·ªãch V·ª• Ng√†y C∆∞·ªõi & L·ªÖ H·ªèi', items: pkg.wedding_service_details }
            ];

            let detailsHtml = '';
            groupedDetails.forEach(group => {
                if (group.items && group.items.length > 0) {
                    detailsHtml += `
                        <div class="mb-6">
                            <h5 class="font-bold text-lg mb-3 text-accent border-b border-gray-100 pb-1">${group.title}</h5>
                            <ul class="space-y-2 text-gray-700 text-sm">
                                ${group.items.map(item => `
                                    <li class="feature-item">
                                        <svg class="w-5 h-5 text-accent mr-3 mt-1 flex-shrink-0" fill="currentColor" viewBox="0 0 20 20"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
                                        <span>${item}</span>
                                    </li>
                                `).join('')}
                            </ul>
                        </div>
                    `;
                }
            });

            panel.innerHTML = `
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center mb-6 border-b pb-4">
                    <div>
                        <h4 class="text-3xl font-bold text-brand-dark">${pkg.name}</h4>
                        <p class="text-gray-500 font-medium">${pkg.location_details.join(' | ')}</p>
                    </div>
                    <p class="text-4xl font-extrabold text-accent mt-2 md:mt-0">${formatCurrency(pkg.price)}</p>
                </div>
                <div>
                    ${detailsHtml}
                </div>
            `;
        }

        function createPriceChart() {
            const ctx = document.getElementById('priceChart').getContext('2d');
            const preweddingData = packageData.filter(p => !p.isCombo);
            
            if (priceChartInstance) {
                priceChartInstance.destroy();
            }

            priceChartInstance = new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: preweddingData.map(p => p.name),
                    datasets: [{
                        label: 'Gi√° G√≥i (VND)',
                        data: preweddingData.map(p => p.price),
                        backgroundColor: 'rgba(31, 41, 55, 0.8)', /* Dark color for bars */
                        borderColor: 'rgba(31, 41, 55, 1)',
                        borderWidth: 1,
                        borderRadius: 10,
                        hoverBackgroundColor: 'rgba(184, 134, 11, 1)' /* Brass/Gold Accent on hover */
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { color: 'rgba(0, 0, 0, 0.05)' },
                            ticks: {
                                callback: function(value, index, values) {
                                    return value / 1000000 + ' Tr';
                                }
                            }
                        },
                        x: {
                            grid: { display: false },
                            ticks: {
                                font: { size: 12, weight: 'bold' },
                                color: '#434240'
                            }
                        }
                    },
                    plugins: {
                        legend: { display: false },
                        tooltip: {
                            backgroundColor: '#1F2937',
                            titleFont: { weight: 'bold' },
                            bodyFont: { weight: 'normal' },
                            callbacks: {
                                label: function(context) {
                                    return `Gi√°: ${formatCurrency(context.raw)}`;
                                }
                            }
                        }
                    },
                    onClick: (event, elements) => {
                        if (elements.length > 0) {
                            const dataIndex = elements[0].index;
                            const packageId = preweddingData[dataIndex].id;
                            updateDetailPanel(packageId);
                            switchView('view-details'); // Switch to details tab on click
                        }
                    }
                }
            });
        }

        // --- INIT & UTILITIES ---
        
        let slideIndex = 0;
        const slideDuration = 4000; // 4 seconds

        function showSlides() {
            const slides = document.querySelectorAll('.slideshow-image');
            if (slides.length === 0) return;

            for (let i = 0; i < slides.length; i++) {
                slides[i].classList.remove('active');
            }
            slideIndex++;
            if (slideIndex > slides.length) { slideIndex = 1 }
            slides[slideIndex - 1].classList.add('active');
            setTimeout(showSlides, slideDuration); // Change image every 4 seconds
        }

        function startSlideshow() {
            const slideshowContainer = document.getElementById('heroSlideshow');
            if (!slideshowContainer) return;

            // Ch·ªâ l·∫•y m·ªôt ph·∫ßn nh·ªè ·∫£nh ph√≥ng s·ª± cho slideshow ƒë·ªÉ ƒë·∫£m b·∫£o hi·ªáu su·∫•t
            const selectedSlides = eventImageUrls.slice(0, Math.min(eventImageUrls.length, 8)); // D√πng 8 ·∫£nh ƒë·∫ßu ti√™n

            if (selectedSlides.length === 0) {
                 slideshowContainer.parentElement.style.display = 'none'; // ·∫®n slideshow n·∫øu kh√¥ng c√≥ ·∫£nh
                 return;
            }

            slideshowContainer.innerHTML = selectedSlides.map((url, index) => {
                const isActive = index === 0 ? 'active' : '';
                // S·ª≠ d·ª•ng lazy loading cho ·∫£nh slideshow (kh√¥ng c·∫ßn thi·∫øt trong m√¥i tr∆∞·ªùng n√†y nh∆∞ng l√† Best Practice)
                return `<img class="slideshow-image ${isActive}" src="${url}" alt="·∫¢nh Ph√≥ng S·ª± C∆∞·ªõi" loading="lazy">`;
            }).join('');
            
            // B·∫Øt ƒë·∫ßu tr√¨nh chi·∫øu t·ª´ ·∫£nh th·ª© 2 (ƒë·ªÉ ·∫£nh 1 c√≥ th·ªùi gian hi·ªÉn th·ªã ban ƒë·∫ßu)
            slideIndex = 0; 
            setTimeout(showSlides, slideDuration);
        }
        
        // Function to check if element is in viewport (kept for general scroll reveal)
        function isElementInViewport(el) {
            const rect = el.getBoundingClientRect();
            return (
                rect.top <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.bottom >= 0 &&
                rect.left <= (window.innerWidth || document.documentElement.clientWidth) &&
                rect.right >= 0
            );
        }

        // Scroll Reveal Logic
        function handleScrollReveal() {
            // S·ª¨A L·ªñI: Ki·ªÉm tra el tr∆∞·ªõc khi g·ªçi classList
            document.querySelectorAll('.scroll-reveal-element:not(.visible)').forEach(el => {
                if (el && isElementInViewport(el)) {
                    el.classList.add('visible');
                }
            });
        }
        
        // NEW: Theme switching logic
        function setTheme(themeName) {
            document.body.className = `antialiased ${themeName}`;
            
            // C·∫≠p nh·∫≠t bi·∫øn CSS t√πy ch·ªânh
            let accentColor;
            let brandDarkColor;

            switch (themeName) {
                case 'theme-bright':
                    accentColor = '#008080'; // Teal
                    brandDarkColor = '#111827';
                    break;
                case 'theme-romantic':
                    accentColor = '#800020'; // Burgundy
                    brandDarkColor = '#4B0000';
                    break;
                case 'theme-classic':
                    accentColor = '#003366'; // Navy
                    brandDarkColor = '#1F2937';
                    break;
                default: // theme-default (Luxury/Gold)
                    accentColor = '#B8860B';
                    brandDarkColor = '#1F2937';
            }
            
            // √Åp d·ª•ng bi·∫øn CSS cho c√°c th√†nh ph·∫ßn tƒ©nh (n·∫øu c·∫ßn)
            document.documentElement.style.setProperty('--accent-color', accentColor);
            document.documentElement.style.setProperty('--brand-dark-color', brandDarkColor);

            // C·∫≠p nh·∫≠t m√†u cho c√°c n√∫t Gallery v√† Package Selector
            updateThemeSpecificElements(accentColor, brandDarkColor);
            
            // Kh·ªüi t·∫°o l·∫°i Chart n·∫øu ƒëang ·ªü view comparison (ƒë·ªÉ c·∫≠p nh·∫≠t m√†u bar)
            if (currentView === 'view-comparison' && priceChartInstance) {
                createPriceChart();
            }
        }
        
        function updateThemeSpecificElements(accentColor, brandDarkColor) {
            // C·∫≠p nh·∫≠t m√†u cho c√°c n√∫t b·∫•m
            document.querySelectorAll('.btn-accent').forEach(btn => {
                btn.style.backgroundColor = accentColor;
            });
            document.querySelectorAll('.package-selector-button.active').forEach(btn => {
                 btn.style.backgroundColor = accentColor;
                 btn.style.borderColor = accentColor;
            });
             document.querySelectorAll('.gallery-filter-button.active').forEach(btn => {
                 btn.style.backgroundColor = accentColor;
            });
        }


        window.addEventListener('DOMContentLoaded', () => {
            // Initial setup
            populateSelectors();
            updateComparisonTable();
            populatePackageButtons(); // NEW: Create buttons
            populateGallery(); // S·ª≠a l·ªói: G·ªçi h√†m gallery ngay sau DOMContentLoaded
            createGalleryFilters(); // NEW: Create gallery filters
            startSlideshow(); // NEW: Start slideshow

            // Default to 'Chi Ti·∫øt G√≥i' and display LUCIE 4
            // Note: handlePackageButtonClick('lucie4') is called inside populatePackageButtons
            switchView('view-details');
            
            // Thi·∫øt l·∫≠p ch·ªß ƒë·ªÅ m·∫∑c ƒë·ªãnh ban ƒë·∫ßu
            setTheme('theme-default'); 
            
            // Activate initial scroll reveal elements
            document.querySelectorAll('.scroll-reveal-element').forEach(el => {
                el.classList.add('visible');
            });
            
            // Attach scroll event listener for continuous reveal
            window.addEventListener('scroll', handleScrollReveal);
            handleScrollReveal(); // Run once on load for elements already in view
        });

    </script>
</body>
</html>
